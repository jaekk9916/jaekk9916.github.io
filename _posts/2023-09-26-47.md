---
title: MongoDB
date: 2023-09-26 11:35:32 +0500
categories: [DB, NoSQL]
tags: [db, NoSQL, MongoDB]
---

|    **SQL**      |        **Other Name**        |
|:---------------:|:----------------------------:|
|    **Tables**   | Collections                  |
|**rows/recods**  | Documents                    |


## BSON(BinaryJSON)
JSON-like storage format 

`_id` field: primary key
If driver fails to provide a _id field with a unique ObjectId, the mongod service will add it automatically

### example
```javascript
{
  "_id": ObjectId("52d02240e4b01d67d71ad577"),
  "title": "First Blog Post",
  "comments": [
  ...
  ]
}
```

## MongoDB replica set
### The reason of Replication of databases
1. protaction data to recover from hardware failure
2. Increate read capacity

### Start MongoDB
```shell
mongod
mongosh

use mean
show dbs
```


### update()
```shell
mean > db.posts.update({"user":"alice"},{$set:{"title":"Fourth Post"}},{multi:true})
# output
{
  acknowledged: true,
  insertedId: null,
  matchedCount: 1,
  modifiedCount: 1,
  upsertedCount: 0
}
```

```
mean> db.posts.find()
[
  {
    _id: ObjectId("6512f266594890cfb846b144"),
    title: 'First Post',
    user: 'bob'
  },
  {
    _id: ObjectId("6512f301594890cfb846b145"),
    title: 'Second Post',
    user: 'pop'
  },
  {
    _id: ObjectId("6512f395594890cfb846b146"),
    title: 'Fourth Post',
    user: 'alice'
  }
]
```

### save()

### remove()
- Can accept up to two arguments
- first argument: the deletion criteria
- second argument: indicates whether or not to remove multiple documents





  
